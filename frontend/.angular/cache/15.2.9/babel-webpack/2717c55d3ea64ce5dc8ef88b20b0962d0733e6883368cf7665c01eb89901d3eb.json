{"ast":null,"code":"import { Validators, UntypedFormBuilder } from '@angular/forms';\nimport { ClienteService } from '../services/cliente.service';\nimport { ActivatedRoute } from '@angular/router';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../services/cliente.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ClienteCadComponent_small_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 20);\n    i0.ɵɵtext(1, \"*Required field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteCadComponent_small_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 20);\n    i0.ɵɵtext(1, \"*Required field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteCadComponent_small_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 20);\n    i0.ɵɵtext(1, \"*Required field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteCadComponent_small_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 20);\n    i0.ɵɵtext(1, \"*Required field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteCadComponent_small_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 20);\n    i0.ɵɵtext(1, \"*Required field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteCadComponent_small_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 20);\n    i0.ɵɵtext(1, \"*Required field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClienteCadComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"br\")(2, \"br\");\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    var ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassProp(\"alert-danger\", ctx_r6.error);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r6.message);\n  }\n}\nvar ClienteCadComponent = /** @class */function () {\n  function ClienteCadComponent(fb, clienteService, route) {\n    this.fb = fb;\n    this.clienteService = clienteService;\n    this.route = route;\n    this.id = null;\n    this.submited = false;\n    this.message = null;\n    this.error = false;\n    this.form = this.initForm();\n  }\n  ClienteCadComponent.prototype.ngOnInit = function () {\n    var _this = this;\n    this.routerSub = this.route.params.subscribe(function (params) {\n      _this.id = params['id'];\n    });\n  };\n  ClienteCadComponent.prototype.initForm = function (client) {\n    return this.fb.group({\n      code: [client && client.code ? client.code : '', [Validators.required]],\n      name: [client && client.name ? client.name : '', [Validators.required]],\n      address: [client && client.address ? client.address : '', [Validators.required]],\n      telephone: [client && client.telephone ? client.telephone : '', [Validators.required]],\n      status: [client && client.status ? client.status : '', [Validators.required]],\n      birthDate: [client && client.birthDate ? moment(client.birthDate).format('MM/DD/YYYY') : '', [Validators.required]]\n    });\n  };\n  ClienteCadComponent.prototype.ngAfterViewInit = function () {\n    var _this = this;\n    if (this.id) {\n      this.clienteService.getById(this.id).subscribe(function (data) {\n        _this.form = _this.initForm(data);\n      }, function (error) {\n        _this.message = error;\n      });\n    }\n  };\n  ClienteCadComponent.prototype.onSubmit = function () {\n    this.submited = true;\n    if (this.form.valid) {\n      var cliente = this.form.value;\n      if (this.id) {\n        this.update(cliente);\n      } else {\n        this.create(cliente);\n      }\n    }\n  };\n  ClienteCadComponent.prototype.update = function (cliente) {\n    var _this = this;\n    this.clienteService.update(this.id, cliente).subscribe(function (data) {\n      _this.submited = false;\n      _this.message = 'Client successfully updated.';\n    }, function (error) {\n      _this.message = error;\n    });\n  };\n  ClienteCadComponent.prototype.create = function (cliente) {\n    var _this = this;\n    this.clienteService.save(cliente).subscribe(function (data) {\n      _this.form.reset();\n      _this.submited = false;\n      _this.message = 'Client successfully created.';\n    }, function (error) {\n      _this.message = error;\n    });\n  };\n  ClienteCadComponent.ɵfac = function ClienteCadComponent_Factory(t) {\n    return new (t || ClienteCadComponent)(i0.ɵɵdirectiveInject(i1.UntypedFormBuilder), i0.ɵɵdirectiveInject(i2.ClienteService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n  ClienteCadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ClienteCadComponent,\n    selectors: [[\"cliente-cad\"]],\n    decls: 43,\n    vars: 8,\n    consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"col-md-6\"], [\"for\", \"code\"], [\"type\", \"number\", \"id\", \"code\", \"placeholder\", \"Code\", \"formControlName\", \"code\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"form-text text-muted\", 4, \"ngIf\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"placeholder\", \"Code\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"address\"], [\"type\", \"text\", \"id\", \"address\", \"placeholder\", \"Address\", \"formControlName\", \"address\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"telephone\", \"placeholder\", \"Telephone\", \"formControlName\", \"telephone\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"status\"], [\"id\", \"status\", \"formControlName\", \"status\", \"required\", \"\", 1, \"form-control\"], [\"value\", \"\", \"selected\", \"\"], [\"value\", \"active\"], [\"value\", \"deleted\"], [\"value\", \"inactive\"], [\"for\", \"birthDate\"], [\"type\", \"text\", \"id\", \"birthDate\", \"placeholder\", \"Birth Date\", \"formControlName\", \"birthDate\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [4, \"ngIf\"], [1, \"form-text\", \"text-muted\"]],\n    template: function ClienteCadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function ClienteCadComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"label\", 2);\n        i0.ɵɵtext(4, \"Code\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"input\", 3);\n        i0.ɵɵtemplate(6, ClienteCadComponent_small_6_Template, 2, 0, \"small\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 1)(8, \"label\", 5);\n        i0.ɵɵtext(9, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 6);\n        i0.ɵɵtemplate(11, ClienteCadComponent_small_11_Template, 2, 0, \"small\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 1)(13, \"label\", 7);\n        i0.ɵɵtext(14, \"Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵtemplate(16, ClienteCadComponent_small_16_Template, 2, 0, \"small\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 1)(18, \"label\", 7);\n        i0.ɵɵtext(19, \"Telephone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 9);\n        i0.ɵɵtemplate(21, ClienteCadComponent_small_21_Template, 2, 0, \"small\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 1)(23, \"label\", 10);\n        i0.ɵɵtext(24, \"Status\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"select\", 11)(26, \"option\", 12);\n        i0.ɵɵtext(27, \"(selecione)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"option\", 13);\n        i0.ɵɵtext(29, \"active\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"option\", 14);\n        i0.ɵɵtext(31, \"deleted\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"option\", 15);\n        i0.ɵɵtext(33, \"inactive\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(34, ClienteCadComponent_small_34_Template, 2, 0, \"small\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 1)(36, \"label\", 16);\n        i0.ɵɵtext(37, \"Birth Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"input\", 17);\n        i0.ɵɵtemplate(39, ClienteCadComponent_small_39_Template, 2, 0, \"small\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"button\", 18);\n        i0.ɵɵtext(41, \"Save\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(42, ClienteCadComponent_div_42_Template, 5, 3, \"div\", 19);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        var tmp_1_0 = void 0;\n        var tmp_2_0 = void 0;\n        var tmp_3_0 = void 0;\n        var tmp_4_0 = void 0;\n        var tmp_5_0 = void 0;\n        var tmp_6_0 = void 0;\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited && ((tmp_1_0 = ctx.form.get(\"code\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors.required));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited && ((tmp_2_0 = ctx.form.get(\"name\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors.required));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited && ((tmp_3_0 = ctx.form.get(\"address\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors.required));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited && ((tmp_4_0 = ctx.form.get(\"telephone\")) == null ? null : tmp_4_0.errors == null ? null : tmp_4_0.errors.required));\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited && ((tmp_5_0 = ctx.form.get(\"status\")) == null ? null : tmp_5_0.errors == null ? null : tmp_5_0.errors.required));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.submited && ((tmp_6_0 = ctx.form.get(\"birthDate\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors.required));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.message);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.FormGroupDirective, i1.FormControlName],\n    encapsulation: 2\n  });\n  return ClienteCadComponent;\n}();\nexport { ClienteCadComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}